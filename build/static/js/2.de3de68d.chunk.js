(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2,4,49,52,53],{130:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return o}));var r=function(e){return new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e))},a=function(e){return new Intl.DateTimeFormat("en-us",{hour:"numeric",minute:"numeric"}).format(new Date(e))},c=function(e){return e.match(/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-\\.]+)\.([a-zA-Z]{2,5})$/)},u=function(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";case"unstyled":return"RichEditor-paragraph";case"CODE":return"RichEditor-blockcode";case"STRIKETHROUGH":return"RichEditor-strikethrough";default:return""}},l=function(e){var t=JSON.parse(e),n=t.blocks.filter((function(e){return e.text.length})),r=n.filter((function(e){return"header-one"===e.type}))[0],a=n.filter((function(e){return"unstyled"===e.type}))[0],c=t.entityMap[0]?t.entityMap[0].data.src:null;return{title:r.text,p:a.text,url:c}},o=function(e){return new Intl.DateTimeFormat("en-us",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).format(new Date(e))}},36:function(e,t,n){"use strict";n.r(t),n.d(t,"Button",(function(){return c}));var r=n(0),a=n.n(r);function c(e){var t=e.text,n=e.handleClick;return a.a.createElement("button",{type:"submit",className:"button",onClick:n},t)}},37:function(e,t,n){"use strict";n.r(t),n.d(t,"Modal",(function(){return l}));var r=n(0),a=n.n(r),c=n(22),u=document.createElement("portal");function l(e){var t=e.toggleModal,n=e.children;return Object(r.useEffect)((function(){return document.body.appendChild(u),function(){document.body.removeChild(u)}}),[]),Object(c.createPortal)(a.a.createElement("div",{className:"modal"},a.a.createElement("div",{className:"modal__overlay",onClick:t}),a.a.createElement("div",{className:"modal__body"},n)),u)}},51:function(e,t,n){"use strict";n.r(t),n.d(t,"Table",(function(){return c}));var r=n(0),a=n.n(r);function c(e){return a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,e.heads.map((function(e){return a.a.createElement("th",{key:e},e)})))),a.a.createElement("tbody",null,e.children))}},56:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentRow",(function(){return o})),n.d(t,"CommentList",(function(){return i}));var r=n(0),a=n.n(r),c=n(36),u=n(13),l=n(51);function o(e){var t=e.item,n=t.comment,r=t.commenter,u=t.email,l=t._id,o=e.index,i=e.handleDelete;return a.a.createElement("tr",null,a.a.createElement("td",null,o+1),a.a.createElement("td",null,n),a.a.createElement("td",null,r),a.a.createElement("td",null,u),a.a.createElement("td",null,a.a.createElement(c.Button,{text:"Delete",handleClick:i(l)})))}function i(e){var t=Object(r.useContext)(u.a).dataService,n=function(e){return function(){t.removeComment(e)}};return a.a.createElement("div",{className:"comments"},a.a.createElement(l.Table,{heads:["number","comment","commenter","email","action"]},e.comments.map((function(e,t){return a.a.createElement(o,{item:e,key:e._id,index:t,handleDelete:n})}))))}},65:function(e,t,n){"use strict";n.r(t),n.d(t,"PostTable",(function(){return E}));var r=n(12),a=n(0),c=n.n(a),u=n(13),l=n(36),o=n(130),i=n(37),m=n(56),d=n(51),s=n(17);function f(e){var t=e.item,n=t.comments,r=t.content,a=t.createdAt,u=t.updatedAt,i=t.id,m=e.index,d=e.toggleModal,f=e.handleClick,E=function(e){return c.a.createElement("td",null,new Date(e).toISOString().slice(0,10))};return c.a.createElement("tr",null,c.a.createElement("td",null,m+1),c.a.createElement("td",null,c.a.createElement("a",{href:"/blog/".concat(Object(o.b)(r).title.split(" ").join("-"))},Object(o.b)(r).title)),E(a),E(u),c.a.createElement("td",null,c.a.createElement("a",{href:"/#",onClick:function(e){return d(e,n)}},n.length)),c.a.createElement("td",null,c.a.createElement(s.b,{to:"/dashboard/edit/".concat(i)},c.a.createElement(l.Button,{text:"Edit"}))),c.a.createElement("td",null,c.a.createElement(l.Button,{text:"Delete",handleClick:f(i)})))}function E(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)([{commenter:"",email:"",comment:"",createdAt:"",_id:"",post:""}]),s=Object(r.a)(o,2),E=s[0],h=s[1],b=Object(a.useContext)(u.a),p=b.data.blogs,v=b.dataService;if(!p.length)return c.a.createElement("div",{className:"posts"},"You do not have any post in your blog.");var y=function(e){return function(){if(!window.confirm("Are you sure you want to delete this post?"))return null;v.removePost(e)}},g=function(e,t){e.preventDefault(),h(t),l(!n)};return c.a.createElement("div",{className:"posts"},n&&c.a.createElement(i.Modal,{toggleModal:function(){return l(!n)}},c.a.createElement(m.CommentList,{comments:E})),c.a.createElement("div",{className:"posts-table"},c.a.createElement(d.Table,{heads:["post","title","created","updated","comments","edit","delete"]},p.map((function(e,t){return c.a.createElement(f,{key:e.id,item:e,index:t,toggleModal:g,handleClick:y})})))))}}}]);
//# sourceMappingURL=2.de3de68d.chunk.js.map