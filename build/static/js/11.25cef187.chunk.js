(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[11,17],{126:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return o}));var r=function(e){return new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e))},a=function(e){return new Intl.DateTimeFormat("en-us",{hour:"numeric",minute:"numeric"}).format(new Date(e))},c=function(e){return e.match(/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-\\.]+)\.([a-zA-Z]{2,5})$/)},l=function(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";case"unstyled":return"RichEditor-paragraph";case"CODE":return"RichEditor-blockcode";case"STRIKETHROUGH":return"RichEditor-strikethrough";default:return""}},u=function(e){var t=JSON.parse(e),n=t.blocks.filter((function(e){return e.text.length})),r=n.filter((function(e){return"header-one"===e.type}))[0],a=n.filter((function(e){return"unstyled"===e.type}))[0],c=t.entityMap[0]?t.entityMap[0].data.src:null;return{title:r.text,p:a.text,url:c}},o=function(e){var t=JSON.parse(e).blocks,n=t.filter((function(e){return"header-one"===e.type}))[0],r=t.filter((function(e){return"unstyled"===e.type})).filter((function(e){return e.text.length>1}));return void 0!==n&&r.length>0}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r);function c(e){return a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,e.heads.map((function(e){return a.a.createElement("th",{key:e},e)})))),a.a.createElement("tbody",null,e.children))}},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),c=n(27),l=document.createElement("portal");function u(e){var t=e.toggleModal,n=e.children;return Object(r.useEffect)((function(){return document.body.appendChild(l),function(){document.body.removeChild(l)}}),[]),Object(c.createPortal)(a.a.createElement("div",{className:"modal"},a.a.createElement("div",{className:"modal__overlay",onClick:t}),a.a.createElement("div",{className:"modal__body"},n)),l)}},44:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentRow",(function(){return s})),n.d(t,"CommentList",(function(){return f}));var r=n(21),a=n.n(r),c=n(29),l=n(0),u=n.n(l),o=n(25),i=n(11),m=n(134),d=n(26);function s(e){var t=e.item,n=t.comment,r=t.commenter,a=t.email,c=t._id,l=e.index,i=e.handleDelete;return u.a.createElement("tr",null,u.a.createElement("td",null,l+1),u.a.createElement("td",null,n),u.a.createElement("td",null,r),u.a.createElement("td",null,a),u.a.createElement("td",null,u.a.createElement(o.a,{text:"Delete",handleClick:i(c)})))}function f(e){var t=Object(l.useContext)(i.a).dataDispatch,n=new d.a(t),r=function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.removeComment(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))};return u.a.createElement("div",{className:"comments"},u.a.createElement(m.a,{heads:["number","comment","commenter","email","action"]},e.comments.map((function(e,t){return u.a.createElement(s,{item:e,key:e._id,index:t,handleDelete:r})}))))}},49:function(e,t,n){"use strict";n.r(t),n.d(t,"PostTable",(function(){return E}));var r=n(12),a=n(0),c=n.n(a),l=n(7),u=n(11),o=n(25),i=n(126),m=n(137),d=n(44),s=n(134),f=n(26);function h(e){var t=e.item,n=t.comments,r=t.content,a=t.createdAt,u=t.updatedAt,m=t.id,d=e.index,s=e.toggleModal,f=e.handleClick,h=function(e){return c.a.createElement("td",null,new Date(e).toISOString().slice(0,10))};return c.a.createElement("tr",null,c.a.createElement("td",null,d+1),c.a.createElement("td",null,c.a.createElement("a",{href:"/blog/".concat(Object(i.b)(r).title.split(" ").join("-"))},Object(i.b)(r).title)),h(a),h(u),c.a.createElement("td",null,c.a.createElement("a",{href:"/#",onClick:function(e){return s(e,n)}},n.length)),c.a.createElement("td",null,c.a.createElement(l.b,{to:"/dashboard/edit/".concat(m)},c.a.createElement(o.a,{text:"Edit"}))),c.a.createElement("td",null,c.a.createElement(o.a,{text:"Delete",handleClick:f(m)})))}function E(e){var t=e.heads,n=e.drafts,l=Object(a.useState)(!1),o=Object(r.a)(l,2),i=o[0],E=o[1],p=Object(a.useState)([{commenter:"",email:"",comment:"",createdAt:"",_id:"",post:""}]),b=Object(r.a)(p,2),v=b[0],y=b[1],g=Object(a.useContext)(u.a),k=g.data,w=g.dataDispatch,x=new f.a(w),O=k.blogs.filter((function(e){return e.draft===n}));if(!O.length)return c.a.createElement("div",{className:"posts"},c.a.createElement("h1",null,"There is nothing here!"));var C=function(e){return function(){if(!window.confirm("Are you sure you want to delete this post?"))return null;x.removePost(e)}},D=function(e,t){e.preventDefault(),y(t),E(!i)};return c.a.createElement("div",{className:"posts"},i&&c.a.createElement(m.a,{toggleModal:function(){return E(!i)}},c.a.createElement(d.CommentList,{comments:v})),c.a.createElement("div",{className:"posts-table"},c.a.createElement(s.a,{heads:t},O.map((function(e,t){return c.a.createElement(h,{key:e.id,item:e,index:t,toggleModal:D,handleClick:C})})))))}}}]);
//# sourceMappingURL=11.25cef187.chunk.js.map