(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2,3,4,5,9,10,11,12,13,33],{137:function(e,t,n){e.exports=n.p+"static/media/linkedin-4.8cc2d3a8.svg"},138:function(e,t,n){e.exports=n.p+"static/media/facebook-2.51f42ec5.svg"},139:function(e,t,n){e.exports=n.p+"static/media/twitter-2.9a35c67b.svg"},140:function(e,t,n){e.exports=n.p+"static/media/save.70f9c9cd.svg"},147:function(e,t,n){var a={"./Blockquote.svg":148,"./Bold.svg":149,"./CodeBlock.svg":150,"./Image.svg":151,"./Italic.svg":152,"./Monospace.svg":153,"./OL.svg":154,"./Strike.svg":155,"./UL.svg":156,"./Underline.svg":157,"./bubble.svg":34,"./clock-thin.svg":158,"./comment.svg":159,"./facebook-2.svg":138,"./iconCheck.svg":160,"./linkedin-2.svg":33,"./linkedin-4.svg":137,"./save.svg":140,"./time-3.svg":161,"./twitter-2.svg":139,"./user.svg":162};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=147},148:function(e,t,n){e.exports=n.p+"static/media/Blockquote.5244267c.svg"},149:function(e,t,n){e.exports=n.p+"static/media/Bold.24e86c54.svg"},150:function(e,t,n){e.exports=n.p+"static/media/CodeBlock.a2745814.svg"},151:function(e,t,n){e.exports=n.p+"static/media/Image.0195355f.svg"},152:function(e,t,n){e.exports=n.p+"static/media/Italic.431c4f8a.svg"},153:function(e,t,n){e.exports=n.p+"static/media/Monospace.a4c355c1.svg"},154:function(e,t,n){e.exports=n.p+"static/media/OL.735619e1.svg"},155:function(e,t,n){e.exports=n.p+"static/media/Strike.e35d7f33.svg"},156:function(e,t,n){e.exports=n.p+"static/media/UL.ff2d3d11.svg"},157:function(e,t,n){e.exports=n.p+"static/media/Underline.2f0cc38b.svg"},158:function(e,t,n){e.exports=n.p+"static/media/clock-thin.565fe25f.svg"},159:function(e,t,n){e.exports=n.p+"static/media/comment.808af9ea.svg"},160:function(e,t,n){e.exports=n.p+"static/media/iconCheck.a0b8efcf.svg"},161:function(e,t,n){e.exports=n.p+"static/media/time-3.9c3f305b.svg"},162:function(e,t,n){e.exports=n.p+"static/media/user.8702dc53.svg"},49:function(e,t,n){"use strict";n.r(t),n.d(t,"Picture",(function(){return r}));var a=n(0),c=n.n(a);function r(e){var t=e.imgUrl,n=e.publicId,a=e.handleClick,r=e.checked;return c.a.createElement("div",{className:"picture",key:n,onClick:a(n)},c.a.createElement("img",{className:"picture__image",src:t,alt:"pic"}),c.a.createElement("input",{type:"checkbox",readOnly:!0,checked:r,className:"picture__checked"}))}},50:function(e,t,n){"use strict";n.r(t),n.d(t,"HeaderStyleDropdown",(function(){return r}));var a=n(0),c=n.n(a);function r(e){var t=e.onToggle,n=e.active,a=e.headerOptions;return c.a.createElement("div",{className:"RichEditor-headers"},c.a.createElement("select",{className:"RichEditor-headers-select",value:n,onChange:function(e){var n=e.target.value;t(n)}},c.a.createElement("option",{className:"RichEditor-headers-option",key:"unstyled",value:"unstyled"},"Normal"),a.map((function(e){return c.a.createElement("option",{className:"RichEditor-headers-option",key:e.label,value:e.style},e.label)}))))}},51:function(e,t,n){"use strict";n.r(t),n.d(t,"StyleButton",(function(){return l}));var a=n(29),c=n(0),r=n.n(c),o=n(16),i=n.n(o);function l(e){var t,c=e.active,o=e.style,l=e.onToggle,s=e.label;return r.a.createElement("span",{className:i()("RichEditor-styleButton",(t={},Object(a.a)(t,"RichEditor-styleButton-".concat(s),!0),Object(a.a)(t,"RichEditor-activeButton",c),t)),onMouseDown:function(e){e.preventDefault(),l(o)}},r.a.createElement("img",{className:"RichEditor-styleButton-icon",src:n(147)("./".concat(s,".svg")),alt:"icon"}))}},52:function(e,t,n){"use strict";n.r(t),n.d(t,"Gallery",(function(){return m}));var a=n(29),c=n(1),r=n(8),o=n(0),i=n.n(o),l=n(18),s=n(49),u=n(4),d=n(30);function m(e){var t=Object(o.useContext)(u.a),n=t.data.gallery,m=t.dataDispatch,g=new d.a(m),p=n.reduce((function(e,t){return e[t.public_id]=!1,e}),[]),f=Object(o.useState)(p),y=Object(r.a)(f,2),v=y[0],b=y[1],E=function(){window.cloudinary.openUploadWidget({cloudName:"maryam47web",uploadPreset:"no2bkme1",tags:["xmas"]},(function(e,t){"success"===t.event&&m({type:"ADD_GALLERY",payload:t.info})}))},h=function(t){return function(){e.withCb&&e.cb(t),b(Object(c.a)({},v,Object(a.a)({},t,!v[t])))}},k=n.reduce((function(e,t){return v[t.public_id]&&e.push(t.public_id),e}),[]);return i.a.createElement("div",{className:"gallery"},n.length?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(l.Button,{text:"Add",handleClick:E}),k[0]&&i.a.createElement(l.Button,{text:k.length>1?"Delete all":"Delete",handleClick:function(){g.removeImage(k[0])}})),i.a.createElement("div",{className:"gallery__contents"},n.map((function(e){return i.a.createElement(s.Picture,{checked:v[e.public_id],handleClick:h,key:e.public_id,publicId:e.public_id,imgUrl:"https://res.cloudinary.com/".concat("maryam47web","/image/upload/").concat(e.public_id,".jpg")})})))):i.a.createElement("div",{className:"gallery__empty"},"The gallery is empty! ",i.a.createElement(l.Button,{text:"Add picture",handleClick:E})," "))}},53:function(e,t,n){"use strict";n.r(t),n.d(t,"Media",(function(){return o}));var a=n(0),c=n.n(a);function r(e){return e.src?c.a.createElement("img",{src:e.src,alt:"upload to cloud"}):null}function o(e){var t=e.contentState.getEntity(e.block.getEntityAt(0)),n=t.getData().src,a=t.getType(),o=c.a.createElement(c.a.Fragment,null);return"image"===a&&(o=c.a.createElement(r,{src:n})),o}},54:function(e,t,n){"use strict";n.r(t),n.d(t,"Modal",(function(){return i}));var a=n(0),c=n.n(a),r=n(32),o=document.createElement("portal");function i(e){var t=e.toggleModal,n=e.children;return Object(a.useEffect)((function(){return document.body.appendChild(o),function(){document.body.removeChild(o)}}),[]),Object(r.createPortal)(c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal__overlay",onClick:t}),c.a.createElement("div",{className:"modal__body"},n)),o)}},55:function(e,t,n){"use strict";n.r(t),n.d(t,"StyleTypes",(function(){return s}));var a=n(0),c=n.n(a),r=n(50),o=n(51),i=[{label:"Bold",style:"BOLD",type:"INLINE_TYPE"},{label:"Italic",style:"ITALIC",type:"INLINE_TYPE"},{label:"Underline",style:"UNDERLINE",type:"INLINE_TYPE"},{label:"UL",style:"unordered-list-item",type:"BLOCK_TYPE"},{label:"OL",style:"ordered-list-item",type:"BLOCK_TYPE"},{label:"Blockquote",style:"blockquote",type:"BLOCK_TYPE"},{label:"CodeBlock",style:"code-block",type:"BLOCK_TYPE"},{label:"Monospace",style:"CODE",type:"INLINE_TYPE"},{label:"Strike",style:"STRIKETHROUGH",type:"INLINE_TYPE"},{label:"Image",style:"image",type:"IMAGE"}],l=[{label:"Heading 1",style:"header-one",type:"BLOCK_TYPE"},{label:"Heading 2",style:"header-two",type:"BLOCK_TYPE"},{label:"Heading 3",style:"header-three",type:"BLOCK_TYPE"},{label:"Heading 4",style:"header-four",type:"BLOCK_TYPE"},{label:"Heading 5",style:"header-five",type:"BLOCK_TYPE"},{label:"Heading 6",style:"header-six",type:"BLOCK_TYPE"}];function s(e){var t=e.editorState,n=e.onToggleBlock,a=e.onToggleInline,s=t.getSelection(),u=t.getCurrentContent().getBlockForKey(s.getStartKey()).getType(),d=t.getCurrentInlineStyle();return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.HeaderStyleDropdown,{headerOptions:l,active:u,onToggle:n}),i.map((function(e){return c.a.createElement(o.StyleButton,{active:"BLOCK_TYPE"===e.type?e.style===u:d.has(e.style),label:e.label,onToggle:"BLOCK_TYPE"===e.type?n:a,style:e.style,key:e.label})})))}},59:function(e,t,n){"use strict";n.r(t),n.d(t,"mediaBlockRenderer",(function(){return c}));var a=n(53);function c(e){return"atomic"===e.getType()?{component:a.Media,editable:!1}:null}},61:function(e,t,n){"use strict";n.r(t),n.d(t,"Toolbar",(function(){return f}));var a=n(8),c=n(0),r=n.n(c),o=n(163),i=n(16),l=n.n(i),s=n(18),u=n(55),d=n(54),m=n(52),g=n(140),p=n.n(g);function f(e){var t=Object(c.useState)(!1),n=Object(a.a)(t,2),i=n[0],g=n[1],f=Object(c.useState)(!1),y=Object(a.a)(f,2),v=y[0],b=y[1],E=e.editorState,h=e.handleChange,k=e.onAddImage,C=e.handleSave,O=e.variant;return r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",{className:"RichEditor-controls"},r.a.createElement(u.StyleTypes,{editorState:E,onToggleBlock:function(e){h(o.RichUtils.toggleBlockType(E,e))},onToggleInline:function(e){"image"===e&&g(!i),h(o.RichUtils.toggleInlineStyle(E,e))}})),r.a.createElement("div",{className:"toolbar__toggle",onClick:function(){return b(!v)}},r.a.createElement("img",{src:p.a,alt:"menu"})),r.a.createElement("div",{className:l()({toolbar__buttons:!0,"toolbar__buttons-hide":!v})},r.a.createElement(s.Button,{text:O,handleClick:C(O)})),i&&r.a.createElement(d.Modal,{toggleModal:function(){return g(!i)}},r.a.createElement(m.Gallery,{withCb:!0,cb:function(e){k(e),g(!1)}})))}},69:function(e,t,n){"use strict";n.r(t),n.d(t,"RichEditor",(function(){return g}));var a=n(8),c=n(0),r=n.n(c),o=n(163),i=n(61),l=n(4),s=n(59),u=n(13),d=n(11),m=n(30);function g(e){var t=Object(c.useContext)(l.a),n=t.data,g=t.dataDispatch,p=new m.a(g),f=e.blogId?n.blogs.filter((function(t){return t.id===e.blogId.id}))[0]:null,y=f?o.EditorState.createWithContent(Object(o.convertFromRaw)(JSON.parse(f.content))):o.EditorState.createEmpty(),v=Object(c.useState)(y),b=Object(a.a)(v,2),E=b[0],h=b[1],k=E.getCurrentContent(),C=Object(c.useState)(JSON.stringify(Object(o.convertToRaw)(k))),O=Object(a.a)(C,2),T=O[0],_=O[1],B=Object(u.g)(),N=Object(c.createRef)(),I=function(){N.current&&N.current.focus()},S=function(e){h(e),_(JSON.stringify(Object(o.convertToRaw)(k)))},L=E.getCurrentContent(),x="RichEditor-editor";return L.hasText()||"unstyled"!==L.getBlockMap().first().getType()&&(x+=" RichEditor-hidePlaceholder"),r.a.createElement("div",{className:"editor"},r.a.createElement("div",{className:"RichEditor"},r.a.createElement(i.Toolbar,{variant:e.blogId?"Save":"Publish",onAddImage:function(e){var t="https://res.cloudinary.com/".concat("maryam47web","/image/upload/").concat(e,".jpg"),n=E.getCurrentContent().createEntity("image","IMMUTABLE",{src:t}),a=n.getLastCreatedEntityKey(),c=o.EditorState.set(E,{currentContent:n});h(o.AtomicBlockUtils.insertAtomicBlock(c,a," ")),setTimeout((function(){return I()}),0)},editorState:E,handleChange:S,handleSave:function(t){return function(){"Publish"===t?(p.createNewPost({content:T,userId:n.users[0]._id}),B.push("/dashboard/posts")):(p.updatePost(e.blogId.id,T),B.push("/dashboard/posts"))}}}),r.a.createElement("div",{className:x,onClick:I},r.a.createElement(o.Editor,{ref:N,blockStyleFn:d.f,blockRendererFn:s.mediaBlockRenderer,editorState:E,handleKeyCommand:function(e,t){var n=o.RichUtils.handleKeyCommand(t,e);return n?(S(n),"handled"):"not-handled"},keyBindingFn:function(e){if(9===e.keyCode){var t=o.RichUtils.onTab(e,E,4);return t!==E&&S(t),null}return Object(o.getDefaultKeyBinding)(e)},onChange:S,placeholder:"Tell a story..."}))))}}}]);
//# sourceMappingURL=2.33a4ec6b.chunk.js.map