(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/save.70f9c9cd.svg"},153:function(e,t,a){e.exports=a(320)},179:function(e,t,a){e.exports=a.p+"static/media/bio-image.4cec5674.jpg"},283:function(e,t){},285:function(e,t){},302:function(e,t,a){var n={"./Blockquote.svg":303,"./Bold.svg":304,"./CodeBlock.svg":305,"./Image.svg":306,"./Italic.svg":307,"./Monospace.svg":308,"./OL.svg":309,"./Strike.svg":310,"./UL.svg":311,"./Underline.svg":312,"./bubble.svg":96,"./clock-thin.svg":313,"./comment.svg":314,"./facebook-2.svg":92,"./facebook.svg":315,"./iconCheck.svg":316,"./instagram-2.svg":93,"./linkedin-2.svg":91,"./linkedin.svg":317,"./save.svg":147,"./time-3.svg":94,"./twitter-2.svg":318,"./user.svg":95};function l(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=c,e.exports=l,l.id=302},303:function(e,t,a){e.exports=a.p+"static/media/Blockquote.5244267c.svg"},304:function(e,t,a){e.exports=a.p+"static/media/Bold.24e86c54.svg"},305:function(e,t,a){e.exports=a.p+"static/media/CodeBlock.a2745814.svg"},306:function(e,t,a){e.exports=a.p+"static/media/Image.0195355f.svg"},307:function(e,t,a){e.exports=a.p+"static/media/Italic.431c4f8a.svg"},308:function(e,t,a){e.exports=a.p+"static/media/Monospace.a4c355c1.svg"},309:function(e,t,a){e.exports=a.p+"static/media/OL.735619e1.svg"},310:function(e,t,a){e.exports=a.p+"static/media/Strike.e35d7f33.svg"},311:function(e,t,a){e.exports=a.p+"static/media/UL.ff2d3d11.svg"},312:function(e,t,a){e.exports=a.p+"static/media/Underline.2f0cc38b.svg"},313:function(e,t,a){e.exports=a.p+"static/media/clock-thin.565fe25f.svg"},314:function(e,t,a){e.exports=a.p+"static/media/comment.808af9ea.svg"},315:function(e,t,a){e.exports=a.p+"static/media/facebook.30cb7c0a.svg"},316:function(e,t,a){e.exports=a.p+"static/media/iconCheck.a0b8efcf.svg"},317:function(e,t,a){e.exports=a.p+"static/media/linkedin.86bb45b8.svg"},318:function(e,t,a){e.exports=a.p+"static/media/twitter-2.cb645bcf.svg"},319:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(37),r=a.n(c),o=a(6),s=a(3),i=a(5),m={user:localStorage.getItem("user"),token:localStorage.getItem("token"),isLoggedIn:null!==localStorage.getItem("token"),id:localStorage.getItem("userId"),error:null},u=function(e,t){switch(t.type){case"SIGNIN_ERROR":case"SIGNUP_ERROR":return Object(i.a)({},e,{error:t.payload});case"SIGNIN_SUCCESS":return Object(i.a)({},e,{user:t.payload.name,id:t.payload.id,token:t.payload.token,isLoggedIn:!0,error:null});case"LOGOUT_USER":return Object(i.a)({},e,{isLoggedIn:!1,error:null});default:return e}},d=a(59),p=a.n(d),E=p.a.create({baseURL:"/api"}),_=function(e){e&&(E.defaults.headers.common.Authorization="Bearer ".concat(e))},g=Object(n.createContext)({}),f=a(152),b=a(19),v=a(9),h=a(12),y=a.n(h),N=function(e){return l.a.createElement("div",{className:"section"},l.a.createElement("section",{className:y()(Object(v.a)({section__content:!0},"section__content--".concat(e.flexDirect),!0))},l.a.createElement("img",{className:"section__img",style:{borderRadius:e.borderRadius},src:e.imgUrl?e.imgUrl:a(45),alt:"biography"}),l.a.createElement("article",{className:"section__article"},l.a.createElement("h2",{className:"section__article--title"},e.title),l.a.createElement("span",{className:"section__article--span"}),l.a.createElement("p",{className:"section__article--text"},e.text),e.text.length>20&&l.a.createElement(o.b,{to:e.href},e.btnText))))},O=function(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(g).authState.isLoggedIn;return Object(n.useEffect)((function(){var e=document.getElementById("nav");if(e){var t=e.offsetTop,a=window.addEventListener("scroll",(function(){window.pageYOffset>t?e.classList.add("sticky"):e.classList.remove("sticky")}));return function(){return window.removeEventListener("scroll",a)}}}),[]),l.a.createElement("div",{id:"nav",className:"navbar"},l.a.createElement("div",{className:y()({navbar__menu:!0,navbar__menu__change:a}),onClick:function(){return c(!a)}},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)),l.a.createElement("nav",{id:"nav",className:y()({show:!a})},l.a.createElement("ul",null,l.a.createElement(o.c,{to:"/"},"Home"),l.a.createElement(o.c,{to:"/about"},"About"),l.a.createElement(o.c,{to:"/blog"},"Blog"),r&&l.a.createElement(o.c,{to:"/dashboard"},"Dashboard"))))},k={blogs:[],users:[],gallery:[]},C=function(e,t){switch(t.type){case"FETCH_USERS":return Object(i.a)({},e,{users:t.payload});case"UPDATE_USER":return Object(i.a)({},e,{users:e.users.map((function(e){return e._id!==t.payload.userId?e:t.payload}))});case"UPDATE_USER_IMAGE":var a=e.users.filter((function(e){return e._id===t.payload.userId}))[0];return a.imageUrl=t.payload.obj.imageUrl,Object(i.a)({},e,{users:e.users.map((function(e){return e._id!==t.payload.userId?e:a}))});case"FETCH_POSTS":return Object(i.a)({},e,{blogs:(c=t.payload,c.sort((function(e,t){return Number(new Date(t.createdAt))-Number(new Date(e.createdAt))})))});case"FETCH_GALLERY":return Object(i.a)({},e,{gallery:t.payload});case"SET_AVATAR":return Object(i.a)({},e);case"ADD_GALLERY":return Object(i.a)({},e,{gallery:e.gallery.concat(t.payload)});case"ADD_POST":return Object(i.a)({},e,{blogs:e.blogs.concat(t.payload)});case"REMOVE_POST":return Object(i.a)({},e,{blogs:e.blogs.filter((function(e){return e.id!==t.payload}))});case"REMOVE_IMAGE":return Object(i.a)({},e,{gallery:e.gallery.filter((function(e){return e.public_id!==t.payload}))});case"ADD_COMMENT":var n=e.blogs.filter((function(e){return e.id===t.payload.post}))[0];return n.comments=n.comments.concat(t.payload),Object(i.a)({},e,{blogs:e.blogs.map((function(e){return e.id===t.payload._id?n:e}))});case"REMOVE_COMMENT":var l=e.blogs.filter((function(e){return e.id===t.payload.post}))[0];return l.comments=l.comments.filter((function(e){return e._id!==t.payload._id})),Object(i.a)({},e,{blogs:e.blogs.map((function(e){return e.id===t.payload.post?l:e}))});default:return e}var c},S=Object(n.createContext)({}),j=function(){var e=Object(n.useContext)(S).data,t=e.users[0].firstName+" "+e.users[0].lastName;return l.a.createElement(n.Fragment,null,l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"header__content"},l.a.createElement("h1",{className:"header__title"},t),l.a.createElement("span",null,e.users[0].title))),l.a.createElement("div",{className:"nav__wrapper"},l.a.createElement(O,null)))},x=function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("section",{className:"footer__section"},l.a.createElement("ul",{className:"footer__section__link"},l.a.createElement(o.c,{to:"/"},"Home"),l.a.createElement(o.c,{to:"/about"},"About"),l.a.createElement(o.c,{to:"/blog"},"Blog"))),l.a.createElement("section",{className:"footer__section"},l.a.createElement("ul",{className:"footer__section__list"},l.a.createElement("li",{className:"footer__section__items"},l.a.createElement("a",{className:"footer__section__link",href:"https://www.linkedin.com/in/maryam-tavakoli/",rel:"noopener noreferrer",target:"_blank"},l.a.createElement("img",{src:a(91),alt:"icon"}))),l.a.createElement("li",{className:"footer__section__items"},l.a.createElement("a",{className:"footer__section__link",href:"https://www.facebook.com/maryam.tavakkoli.39566",rel:"noopener noreferrer",target:"_blank"},l.a.createElement("img",{src:a(92),alt:"icon"}))),l.a.createElement("li",{className:"footer__section__items"},l.a.createElement("a",{className:"footer__section__link",href:"https://www.facebook.com/maryam.tavakkoli.39566",rel:"noopener noreferrer",target:"_blank"},l.a.createElement("img",{src:a(93),alt:"icon"}))))),l.a.createElement("div",{className:"footer__subtitle"},"site by"," ",l.a.createElement("a",{className:"footer__subtitle__link",href:"https://github.com/mnajjarian",rel:"noopener noreferrer",target:"_blank"},"mahdi najjarian")))},I=function(){var e=Object(n.useContext)(g).authState,t=Object(n.useContext)(S).data.users;if(!t.length||!e)return l.a.createElement("div",null);var a=t[0],c=a.firstName,r=a.lastName,o=a.bio,s=a.imageUrl,i=c+" "+r;return l.a.createElement(n.Fragment,null,l.a.createElement(j,null),l.a.createElement(N,{imgUrl:s,title:i,href:"/about",btnText:"read more",flexDirect:"row",borderRadius:"50%",text:o}),l.a.createElement(x,null))},w=a(179),T=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(j,null),l.a.createElement(N,{imgUrl:w,title:"About Me",href:"/",btnText:"download full CV",flexDirect:"row-reverse",borderRadius:"0",text:'I am a second-year master student in "Cloud computing and services" with minors in "Entrepreneurship and business". I am doing my studies in \u201cEIT Digital Master School\u201d, where I will obtain a double-degree from two universities which I have studied in: Aalto University in Finland, and TU Delft in the Netherlands. Currently, I am working at Nokia Bell Labs, in Finland, as a thesis writer. In this position, I am conducting a research study on containerizing of a current telco IoT publish/subscribe application, and suitability of Kubernetes to be used for its deployment. Docker, Kubernetes, Nokia\u2019s cloud environment (NESC), Apache Kafka and GIT are technologies and tools which I am using during my work in Nokia.'}),l.a.createElement(x,null))},R=function(e){var t=e.posts.slice(1);return l.a.createElement("div",{className:"block"},l.a.createElement("h2",{className:"block__title"},"Latest Posts"),l.a.createElement("div",{className:"block__content"},t.map((function(e){return l.a.createElement("div",{key:e.id,className:"block__items"},l.a.createElement("time",{className:"block__time"},(t=e.createdAt,new Intl.DateTimeFormat("en-us",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).format(new Date(t)))),l.a.createElement("a",{className:"block__link",target:"_blank",rel:"noopener noreferrer",href:"/blog/".concat(U(e.content).title.split(" ").join("-"))},U(e.content).title));var t}))))},U=function(e){var t=JSON.parse(e),a=t.blocks.filter((function(e){return e.text.length})),n=a.filter((function(e){return"header-one"===e.type}))[0],l=a.filter((function(e){return"unstyled"===e.type}))[0],c=t.entityMap[0]?t.entityMap[0].data.src:null;return{title:n.text,p:l.text,url:c}},L=function(e){return e.posts[0]?l.a.createElement("div",{className:"jumbotron",style:{backgroundImage:"url(".concat(U(e.posts[0].content).url,")")}},l.a.createElement("div",{className:"jumbotron__overlay"},l.a.createElement("div",{className:"jumbotron__post"},l.a.createElement("h1",{className:"jumbotron__title"},U(e.posts[0].content).title),l.a.createElement("p",{className:"jumbotron__text"},U(e.posts[0].content).p.substring(0,200),"..."),l.a.createElement("a",{href:"/blog/".concat(U(e.posts[0].content).title.split(" ").join("-")),className:"jumbotron__button",rel:"noopener noreferrer",target:"_blank"},"Read more")),e.posts.length>1&&l.a.createElement(R,{posts:e.posts}))):l.a.createElement("div",null)},D=a(94),A=a(95),P=a(96),B=function(e){return new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e))},F=function(e){var t=e.post,a=e.post.content,n=JSON.parse(a),c=n.blocks.filter((function(e){return e.text.length})),r=c.filter((function(e){return"header-one"===e.type}))[0],s=c.filter((function(e){return"unstyled"===e.type}))[0],i=n.entityMap[0]?n.entityMap[0].data.src:null;return l.a.createElement("div",{className:"card__post"},l.a.createElement("section",{className:"card__post__section"},l.a.createElement("div",{className:"card__post__content"},l.a.createElement("h2",null,r.text),l.a.createElement("div",{className:"card__post__header"},l.a.createElement("span",{className:"card__post__icon"},l.a.createElement("img",{src:D,alt:"clock icon"}),l.a.createElement("strong",null,l.a.createElement("time",{dateTime:"2019-09-12",itemProp:t.createdAt},B(t.createdAt)))),l.a.createElement("span",{className:"card__post__icon"},l.a.createElement("img",{src:A,alt:"user icon"}),l.a.createElement("strong",null,t.user.firstName+" "+t.user.lastName)),l.a.createElement("span",{className:"card__post__icon"},l.a.createElement("img",{src:P,alt:"comment icon"}),l.a.createElement("strong",null,0===t.comments.length?"No":t.comments.length," ","Comments"))),l.a.createElement("div",{className:"card__post__items"},l.a.createElement("p",null,s.text.substring(0,380)+"... ",l.a.createElement(o.b,{to:"/blog/".concat(r.text.split(" ").join("-"))},"read more")),i&&l.a.createElement("div",{className:"card__post__image"},l.a.createElement("img",{className:"card__post__image",src:i,alt:r.text}))),l.a.createElement("ul",{className:"card__post__tags"}))))},M=function(e){var t=e.posts;return t.length?l.a.createElement("div",{className:"blog"},l.a.createElement("div",{className:"blog__posts"},t.map((function(e){return l.a.createElement(F,{key:e.id,post:e})})))):l.a.createElement("div",{className:"blog"},l.a.createElement("div",{className:"blog__empty"},l.a.createElement("div",null,"There is nothing here!"),l.a.createElement("div",null,"You can create new post through your ",l.a.createElement("a",{className:"blog__empty__link",href:"/dashboard/create"},"Dashboard"),".")))},Y=function(){var e=Object(n.useContext)(S).data.blogs;return l.a.createElement(n.Fragment,null,l.a.createElement(O,null),l.a.createElement(L,{posts:e}),l.a.createElement(M,{posts:e}),l.a.createElement(x,null))},K=a(7),G=a(150),H=a.n(G),J=a(151),V=function(e){var t=e.text,a=e.handleClick;return l.a.createElement("button",{type:"submit",className:"button",onClick:a},t)},q=function(e){var t=Object(n.useState)({commenter:"",email:"",comment:"",post:e.postId}),a=Object(s.a)(t,2),c=a[0],r=a[1],o=Object(n.useContext)(S).dataService,m=function(e){var t=e.target,a=t.name,n=t.value;r(Object(i.a)({},c,Object(v.a)({},a,n)))},u=c.commenter,d=c.email,p=c.comment;return l.a.createElement("div",{className:"comments"},l.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();try{o.addComment(c)}catch(t){console.log(t)}}},l.a.createElement("h3",null,"Leave a comment"),l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"commentor"},"Name"),l.a.createElement("input",{className:"form__input",type:"text",name:"commenter",value:u,onChange:m})),l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),l.a.createElement("input",{className:"form__input",type:"email",name:"email",value:d,onChange:m})),l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"comment"},"Comment"),l.a.createElement("textarea",{className:"form__textarea",name:"comment",value:p,onChange:m,rows:7,cols:12})),l.a.createElement("div",{className:"form__button"},l.a.createElement(V,{text:"Submit"}))))},W=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1];return l.a.createElement("div",{className:"comment"},e.comments.length?l.a.createElement("p",{className:"comment__header"},"Comments"):"",e.comments.length>0&&e.comments.map((function(e){return l.a.createElement("div",{className:"comment__card"},l.a.createElement("div",{className:"comment__body",key:e._id},l.a.createElement("div",{className:"comment__title"},l.a.createElement("strong",null,e.commenter),l.a.createElement("div",{className:"comment__date"},B(e.createdAt),",  "+(t=e.createdAt,new Intl.DateTimeFormat("en-us",{hour:"numeric",minute:"numeric"}).format(new Date(t))))),l.a.createElement("p",{className:"comment__text"},e.comment)));var t})),l.a.createElement(q,{closeForm:function(){return r(!c)},postId:e.postId}))},z=function(){return l.a.createElement("div",{className:"loading"},"Loading")},Q=function(e){var t=e.match,a=Object(n.useContext)(S).data.blogs,c=t.params.id;if(!c)return l.a.createElement("div",null);var r=c.split("-").join(" "),o=a.find((function(e){return e.content.includes(r)}));if(!o)return l.a.createElement(z,null);var s=JSON.parse(o.content),i=Object(K.convertFromRaw)(s),m=K.EditorState.createWithContent(i),u=Object(J.a)(m.getCurrentContent());return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"nav__wrapper"},l.a.createElement(O,null)),l.a.createElement("main",{className:"post"},l.a.createElement("article",{className:"post__article"},l.a.createElement("header",{className:"post__header"},l.a.createElement("p",null,"By ",o.user.firstName+" "+o.user.lastName,l.a.createElement("time",{className:"post__time"}," . ",new Intl.DateTimeFormat("en-us",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(o.createdAt)))," ")),H()(u),l.a.createElement("footer",{className:"post__footer"},l.a.createElement("div",{className:"post__social"},l.a.createElement("div",{className:"post__social__buttons "},l.a.createElement("div",{className:"post__social__facebook"}),l.a.createElement("div",{className:"post__social__linkedin"}),l.a.createElement("div",{className:"post__social__twitter"})))),l.a.createElement(W,{comments:o.comments,postId:o.id}))))},X=a(81),Z=a.n(X),$={email:"",password:""},ee=function(){var e=Object(n.useState)($),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(g),o=r.authService,m=r.authState.isLoggedIn,u=a.email,d=a.password,p=function(e){var t=e.target,n=t.name,l=t.value;c(Object(i.a)({},a,Object(v.a)({},n,l)))};return m?l.a.createElement(b.a,{to:"/dashboard"}):l.a.createElement("div",{className:"login"},l.a.createElement("h1",null,"Please login to continue"),l.a.createElement("form",{className:"form",onSubmit:function(e){return Z.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,Z.a.awrap(o.signin(a));case 4:return t.abrupt("return",l.a.createElement(b.a,{to:"/dashboard"}));case 7:t.prev=7,t.t0=t.catch(1),alert(t.t0.message);case 10:case"end":return t.stop()}}),null,null,[[1,7]])}},l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"username"},"Username"),l.a.createElement("input",{className:"form__input",type:"text",name:"email",placeholder:"Username",value:u,onChange:p})),l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"password"},"Password"),l.a.createElement("input",{className:"form__input",type:"password",name:"password",placeholder:"Password",value:d,onChange:p})),l.a.createElement("div",{className:"form__button"},l.a.createElement(V,{text:"Login"}))))},te=function(e,t){Object(n.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}),[e,t])},ae=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],r=t[1],i=Object(n.useContext)(g).authService,m=Object(n.useContext)(S).data.users[0],u=m?m.imageUrl:a(45),d=function(){i.logout()},p=Object(n.useRef)(null);te(p,(function(){return r(!1)}));var E=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"nav__list__group"},l.a.createElement(o.b,{to:"/"},"Home")),l.a.createElement("div",{className:"nav__list__group"},l.a.createElement(o.b,{to:"/dashboard/profile"},"Profile")),l.a.createElement("div",{className:"nav__list__group"},l.a.createElement(o.b,{to:"/dashboard/gallery"},"Gallery")),l.a.createElement("div",{className:"nav__list__group"},l.a.createElement(o.b,{to:"/dashboard/posts"},"Posts")),l.a.createElement("div",{className:"nav__list__group"},l.a.createElement(o.b,{to:"/dashboard/create"},"Create new")),l.a.createElement("div",{className:"nav__list__logout"},l.a.createElement("li",{onClick:d},"Logout")))};return l.a.createElement("div",{className:"nav"},l.a.createElement("ul",{className:"nav__list"},E()),l.a.createElement("div",{ref:p,className:"nav__icon",onClick:function(){return r(!c)}},l.a.createElement("img",{className:"nav__icon__image",src:u||a(45),alt:"admin"}),l.a.createElement("ul",{className:y()({nav__logout:!0,"nav__logout-hide":!c})},l.a.createElement("li",{onClick:d},"Logout")),l.a.createElement("ul",{className:y()({nav__menu:!0,"nav__menu-hide":!c})},E())))},ne=function(e){var t=e.children;return l.a.createElement("div",{className:"dashboard"},l.a.createElement(ae,null),t)},le=function(e){var t=e.imgUrl,a=e.publicId,n=e.handleClick,c=e.checked;return l.a.createElement("div",{className:"picture",key:a,onClick:n(a)},l.a.createElement("img",{className:"picture__image",src:t,alt:"pic"}),l.a.createElement("input",{type:"checkbox",readOnly:!0,checked:c,className:"picture__checked"}))},ce=function(e){var t=Object(n.useContext)(S),a=t.data.gallery,c=t.dataDispatch,r=t.dataService,o=a.reduce((function(e,t){return e[t.public_id]=!1,e}),[]),m=Object(n.useState)(o),u=Object(s.a)(m,2),d=u[0],p=u[1],E=function(){window.cloudinary.openUploadWidget({cloudName:"maryam47web",uploadPreset:"no2bkme1",tags:["xmas"]},(function(e,t){"success"===t.event&&c({type:"ADD_GALLERY",payload:t.info})}))},_=function(t){return function(){e.withCb&&e.cb(t),p(Object(i.a)({},d,Object(v.a)({},t,!d[t])))}},g=a.reduce((function(e,t){return d[t.public_id]&&e.push(t.public_id),e}),[]);return l.a.createElement("div",{className:"gallery"},a.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(V,{text:"Add",handleClick:E}),g[0]&&l.a.createElement(V,{text:g.length>1?"Delete all":"Delete",handleClick:function(){r.removeImage(g[0])}})),l.a.createElement("div",{className:"gallery__contents"},a.map((function(e){return l.a.createElement(le,{checked:d[e.public_id],handleClick:_,key:e.public_id,publicId:e.public_id,imgUrl:"https://res.cloudinary.com/".concat("maryam47web","/image/upload/").concat(e.public_id,".jpg")})})))):l.a.createElement("div",{className:"gallery__empty"},"The gallery is empty!  ",l.a.createElement(V,{text:"Add picture",handleClick:E})," "))},re=function(){var e=Object(n.useContext)(S),t=e.data.users,c=e.dataDispatch,r=e.dataService,o=t[0],m={email:o?o.email:"",fullname:o?o.firstName+" "+o.lastName:"",title:o?o.title:"",bio:o?o.bio:"",imageUrl:o?o.imageUrl:""},u=Object(n.useState)(m),d=Object(s.a)(u,2),p=d[0],E=d[1],_=function(e){var t=e.target,a=t.name,n=t.value;E(Object(i.a)({},p,Object(v.a)({},a,n)))},g=p.fullname,f=p.email,b=p.title,h=p.bio,y=p.imageUrl,N=y?y.split("/"):"",O=N.length?N[N.length-1].split(".")[0]:"";return l.a.createElement("div",{className:"profile"},l.a.createElement("div",{className:"profile__content"},l.a.createElement("div",{className:"profile__photo"},l.a.createElement("img",{className:"profile__img",src:y||a(45),height:"200px",alt:"avatar"}),l.a.createElement("div",{className:"profile__photo__overlay"},l.a.createElement("button",{className:"profile__photo__edit",onClick:function(){window.cloudinary.openUploadWidget({cloudName:"maryam47web",uploadPreset:"no2bkme1",tags:["profile"]},(function(e,t){"success"===t.event&&(c({type:"UPDATE_USER_IMAGE",payload:{userId:o._id,obj:{imageUrl:t.info.secure_url}}}),r.updateUser(o._id,{imageUrl:t.info.url},O))}))}},"Change"))),l.a.createElement("form",{className:"form",onSubmit:function(){r.updateUser(o._id,p)}},l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"fullname"},"Name"),l.a.createElement("input",{className:"form__input",type:"text",name:"fullname",value:g,onChange:_,placeholder:"First name and Last Name"})),l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),l.a.createElement("input",{className:"form__input",type:"text",name:"email",value:f,onChange:_,placeholder:"Email"})),l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"title"},"Title"),l.a.createElement("input",{className:"form__input",type:"text",name:"title",value:b,onChange:_,placeholder:"title"})),l.a.createElement("div",{className:"form__group"},l.a.createElement("label",{className:"form__label",htmlFor:"bio"},"About"),l.a.createElement("textarea",{className:"form__textarea",cols:12,rows:9,name:"bio",value:h,onChange:_,placeholder:"Biography"})),l.a.createElement("div",{className:"form__button"},l.a.createElement(V,{text:"Save"})))))},oe=function(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";case"unstyled":return"RichEditor-paragraph";case"CODE":return"RichEditor-blockcode";case"STRIKETHROUGH":return"RichEditor-strikethrough";default:return""}},se=function(e){var t=e.onToggle,a=e.active,n=e.headerOptions;return l.a.createElement("div",{className:"RichEditor-headers"},l.a.createElement("select",{className:"RichEditor-headers-select",value:a,onChange:function(e){var a=e.target.value;t(a)}},l.a.createElement("option",{className:"RichEditor-headers-option",key:"unstyled",value:"unstyled"},"Normal"),n.map((function(e){return l.a.createElement("option",{className:"RichEditor-headers-option",key:e.label,value:e.style},e.label)}))))},ie=function(e){var t,n=e.active,c=e.style,r=e.onToggle,o=e.label;return l.a.createElement("span",{className:y()("RichEditor-styleButton",(t={},Object(v.a)(t,"RichEditor-styleButton-".concat(o),!0),Object(v.a)(t,"RichEditor-activeButton",n),t)),onMouseDown:function(e){e.preventDefault(),r(c)}},l.a.createElement("img",{className:"RichEditor-styleButton-icon",src:a(302)("./".concat(o,".svg")),alt:"icon"}))},me=[{label:"Bold",style:"BOLD",type:"INLINE_TYPE"},{label:"Italic",style:"ITALIC",type:"INLINE_TYPE"},{label:"Underline",style:"UNDERLINE",type:"INLINE_TYPE"},{label:"UL",style:"unordered-list-item",type:"BLOCK_TYPE"},{label:"OL",style:"ordered-list-item",type:"BLOCK_TYPE"},{label:"Blockquote",style:"blockquote",type:"BLOCK_TYPE"},{label:"CodeBlock",style:"code-block",type:"BLOCK_TYPE"},{label:"Monospace",style:"CODE",type:"INLINE_TYPE"},{label:"Strike",style:"STRIKETHROUGH",type:"INLINE_TYPE"},{label:"Image",style:"image",type:"IMAGE"}],ue=[{label:"Heading 1",style:"header-one",type:"BLOCK_TYPE"},{label:"Heading 2",style:"header-two",type:"BLOCK_TYPE"},{label:"Heading 3",style:"header-three",type:"BLOCK_TYPE"},{label:"Heading 4",style:"header-four",type:"BLOCK_TYPE"},{label:"Heading 5",style:"header-five",type:"BLOCK_TYPE"},{label:"Heading 6",style:"header-six",type:"BLOCK_TYPE"}],de=function(e){var t=e.editorState,a=e.onToggleBlock,c=e.onToggleInline,r=t.getSelection(),o=t.getCurrentContent().getBlockForKey(r.getStartKey()).getType(),s=t.getCurrentInlineStyle();return l.a.createElement(n.Fragment,null,l.a.createElement(se,{headerOptions:ue,active:o,onToggle:a}),me.map((function(e){return l.a.createElement(ie,{active:"BLOCK_TYPE"===e.type?e.style===o:s.has(e.style),label:e.label,onToggle:"BLOCK_TYPE"===e.type?a:c,style:e.style,key:e.label})})))},pe=function(e){var t=e.handleClose,a=e.isOpen,n=e.children;return l.a.createElement("div",{className:y()({modal:!0,"modal-isOpen":a})},l.a.createElement("div",{className:"modal__content"},l.a.createElement("div",{className:"modal__close",onClick:t},"\xd7"),n))},Ee=function(e){var t=Object(n.useState)(!1),c=Object(s.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],d=m[1],p=e.editorState,E=e.handleChange,_=e.onAddImage,g=e.handleSave,f=e.variant,b=Object(n.useRef)(null);return te(b,(function(){return o(!1)})),l.a.createElement("div",{ref:b,className:"toolbar"},l.a.createElement("div",{className:"RichEditor-controls"},l.a.createElement(de,{editorState:p,onToggleBlock:function(e){E(K.RichUtils.toggleBlockType(p,e))},onToggleInline:function(e){"image"===e&&o(!r),E(K.RichUtils.toggleInlineStyle(p,e))}})),l.a.createElement("div",{className:"toolbar__toggle",onClick:function(){return d(!u)}},l.a.createElement("img",{src:a(147),alt:"menu"})),l.a.createElement("div",{className:y()({toolbar__buttons:!0,"toolbar__buttons-hide":!u})},l.a.createElement(V,{text:f,handleClick:g(f)})),l.a.createElement(pe,{isOpen:r,handleClose:function(){return o(!1)}},l.a.createElement(ce,{withCb:!0,cb:function(e){_(e),o(!1)}})))},_e=function(e){return e.src?l.a.createElement("img",{src:e.src,alt:"upload to cloud"}):null},ge=function(e){var t,a=e.contentState.getEntity(e.block.getEntityAt(0)),n=a.getData().src;return"image"===a.getType()&&(t=l.a.createElement(_e,{src:n})),t},fe=function(e){return"atomic"===e.getType()?{component:ge,editable:!1}:null},be=function(e){var t=Object(n.useContext)(S),a=t.data,c=t.dataService,r=e.blogId?a.blogs.filter((function(t){return t.id===e.blogId.id}))[0]:null,o=r?K.EditorState.createWithContent(Object(K.convertFromRaw)(JSON.parse(r.content))):K.EditorState.createEmpty(),i=Object(n.useState)(o),m=Object(s.a)(i,2),u=m[0],d=m[1],p=u.getCurrentContent(),E=Object(n.useState)(JSON.stringify(Object(K.convertToRaw)(p))),_=Object(s.a)(E,2),f=_[0],b=_[1],v=Object(n.useContext)(g).authState,h=Object(n.createRef)(),y=function(){h.current&&h.current.focus()},N=function(e){d(e),b(JSON.stringify(Object(K.convertToRaw)(p)))},O=u.getCurrentContent(),k="RichEditor-editor";return O.hasText()||"unstyled"!==O.getBlockMap().first().getType()&&(k+=" RichEditor-hidePlaceholder"),l.a.createElement("div",{className:"editor"},l.a.createElement("div",{className:"RichEditor"},l.a.createElement(Ee,{variant:e.blogId?"Save":"Publish",onAddImage:function(e){var t="https://res.cloudinary.com/".concat("maryam47web","/image/upload/").concat(e,".jpg"),a=u.getCurrentContent().createEntity("image","IMMUTABLE",{src:t}),n=a.getLastCreatedEntityKey(),l=K.EditorState.set(u,{currentContent:a});d(K.AtomicBlockUtils.insertAtomicBlock(l,n," ")),setTimeout((function(){return y()}),0)},editorState:u,handleChange:N,handleSave:function(t){return function(){console.log(v),"Publish"===t?c.createNewPost({content:f,userId:v.id}):c.updatePost(e.blogId.id,f)}}}),l.a.createElement("div",{className:k,onClick:y},l.a.createElement(K.Editor,{ref:h,blockStyleFn:oe,blockRendererFn:fe,editorState:u,handleKeyCommand:function(e,t){var a=K.RichUtils.handleKeyCommand(t,e);return a?(N(a),"handled"):"not-handled"},keyBindingFn:function(e){if(9===e.keyCode){var t=K.RichUtils.onTab(e,u,4);return t!==u&&N(t),null}return Object(K.getDefaultKeyBinding)(e)},onChange:N,placeholder:"Tell a story..."}))))},ve=function(e){var t=Object(n.useContext)(S).dataService;return l.a.createElement("div",{className:"comments"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Number"),l.a.createElement("th",null,"Comment"),l.a.createElement("th",null,"Commenter"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,e.comments.map((function(e,a){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,a+1),l.a.createElement("td",null,e.comment),l.a.createElement("td",null,e.commenter),l.a.createElement("td",null,e.email),l.a.createElement("td",null,l.a.createElement(V,{text:"Delete",handleClick:(n=e._id,function(){t.removeComment(n)})})));var n})))))},he=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([{commenter:"",email:"",comment:"",createdAt:"",_id:"",post:""}]),o=Object(s.a)(r,2),i=o[0],m=o[1],u=Object(n.useContext)(S),d=u.data.blogs,p=u.dataService;if(!d.length)return l.a.createElement("div",{className:"posts"},"You don't have any post in your blog.");return l.a.createElement("div",{className:"posts"},l.a.createElement(pe,{isOpen:a,handleClose:function(){return c(!a)}},l.a.createElement(ve,{comments:i})),l.a.createElement("div",{className:"posts-table"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Post"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Created"),l.a.createElement("th",null,"Updated"),l.a.createElement("th",null,"Comments"),l.a.createElement("th",null,"Edit"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,d.map((function(e,t){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,t+1),l.a.createElement("td",null,l.a.createElement("a",{href:"/blog/".concat(U(e.content).title.split(" ").join("-"))},U(e.content).title)),l.a.createElement("td",null,new Date(e.createdAt).toISOString().slice(0,10)),l.a.createElement("td",null,new Date(e.updatedAt).toISOString().slice(0,10)),l.a.createElement("td",null,l.a.createElement("a",{href:"/#",onClick:(r=e.comments,function(){m(r),c(!a)})},e.comments.length)),l.a.createElement("td",null,l.a.createElement("a",{href:"/dashboard/edit/".concat(e.id)},l.a.createElement(V,{text:"Edit"}))),l.a.createElement("td",null,l.a.createElement(V,{text:"Delete",handleClick:(n=e.id,function(){p.removePost(n)})})));var n,r}))))))},ye=function(){var e=Object(n.useContext)(g).authState.isLoggedIn,t=Object(n.useContext)(S).dataService;Object(n.useEffect)((function(){t.getPosts(),t.getGallery(),t.getUsers()}),[]);return l.a.createElement("div",null,l.a.createElement(b.d,null,l.a.createElement(b.b,{exact:!0,path:"/",component:I}),l.a.createElement(b.b,{exact:!0,path:"/login",component:ee}),l.a.createElement(b.b,{exact:!0,path:"/about",component:T}),l.a.createElement(b.b,{exact:!0,path:"/blog",component:Y}),l.a.createElement(b.b,{exact:!0,path:"/blog/:id",component:function(e){return e?l.a.createElement(Q,e):null}}),l.a.createElement((function(t){var a=t.component,n=t.path,c=Object(f.a)(t,["component","path"]);return l.a.createElement(b.b,{path:n,render:function(t){return e?l.a.createElement(a,Object.assign({},t,c)):l.a.createElement(b.a,{to:{pathname:"/login",state:{from:t.location}}})}})}),{path:"/dashboard",component:function(e){var t=e.match.url;return l.a.createElement(ne,null,l.a.createElement(b.b,{path:"".concat(t,"/profile"),component:re,exact:!0}),l.a.createElement(b.b,{path:"".concat(t,"/gallery"),component:ce,exact:!0}),l.a.createElement(b.b,{path:"".concat(t,"/create"),component:be,exact:!0}),l.a.createElement(b.b,{path:"".concat(t,"/edit/:id"),component:function(e){var t=e.match;return l.a.createElement(be,{blogId:t.params})},exact:!0}),l.a.createElement(b.b,{path:"".concat(t,"/posts"),component:he,exact:!0}))}})))};a(319);r.a.render(l.a.createElement((function(e){var t,a=e.children,c=Object(n.useReducer)(u,m),r=Object(s.a)(c,2),o=r[0],i=r[1],d={authState:o,authDispatch:i,authService:(t=i,{signup:function(e){E.post("/signup",e).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",e.data.firstName+" "+e.data.lastName),localStorage.setItem("userId",e.data.id),_(e.data.token),t({type:"SIGNIN_SUCCESS",payload:e.data})})).catch((function(e){t({type:"SET_ERRORS",payload:e.message})}))},signin:function(e){E.post("/login",e,{withCredentials:!0}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",e.data.firstName+" "+e.data.lastName),localStorage.setItem("userId",e.data.id),_(e.data.token),t({type:"SIGNIN_SUCCESS",payload:e.data})})).catch((function(e){t({type:"SET_ERRORS",payload:e.message})}))},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userId"),t({type:"LOGOUT_USER"})}})};return l.a.createElement(g.Provider,{value:d},a)}),null,l.a.createElement((function(e){var t,a=e.children,c=Object(n.useReducer)(C,k),r=Object(s.a)(c,2),o=r[0],i=r[1],m={data:o,dataDispatch:i,dataService:(t=i,{getPosts:function(){E.get("/posts").then((function(e){t({type:"FETCH_POSTS",payload:e.data})})).catch((function(e){console.log(e)}))},getGallery:function(){p.a.get("https://res.cloudinary.com/".concat("maryam47web","/image/list/xmas.json")).then((function(e){t({type:"FETCH_GALLERY",payload:e.data.resources})})).catch((function(e){console.log(e)}))},createNewPost:function(e){E.post("/posts",e).then((function(e){t({type:"ADD_POST",payload:e.data})})).catch((function(e){console.log(e)}))},updatePost:function(e,t){E.put("/posts/".concat(e),{content:t}).then((function(e){console.log(e.data)}))},removePost:function(e){E.delete("/posts/".concat(e)).then((function(a){t({type:"REMOVE_POST",payload:e})}))},getUsers:function(){E.get("/users").then((function(e){t({type:"FETCH_USERS",payload:e.data})}))},updateUser:function(e,a,n){E.put("/users/".concat(e),{obj:a,publicId:n}).then((function(e){t({type:"UPDATE_USER",payload:e.data})}))},removeAssets:function(e){E.post("/assets",e).then((function(e){console.log(e.data)}))},removeImage:function(e){E.delete("/assets/".concat(e)).then((function(a){t({type:"REMOVE_IMAGE",payload:e})}))},addComment:function(e){E.post("/comments",e).then((function(e){t({type:"ADD_COMMENT",payload:e.data})})).catch((function(e){console.log(e)}))},removeComment:function(e){E.delete("/comments/".concat(e)).then((function(e){t({type:"REMOVE_COMMENT",payload:e.data})})).catch((function(e){console.log(e)}))}})};return l.a.createElement(S.Provider,{value:m},a)}),null,l.a.createElement(o.a,null,l.a.createElement(ye,null)))),document.getElementById("root"))},45:function(e,t,a){e.exports=a.p+"static/media/avatar.41c9a2b3.png"},91:function(e,t,a){e.exports=a.p+"static/media/linkedin-2.b15dd458.svg"},92:function(e,t,a){e.exports=a.p+"static/media/facebook-2.bfe75be2.svg"},93:function(e,t,a){e.exports=a.p+"static/media/instagram-2.a00c56ee.svg"},94:function(e,t,a){e.exports=a.p+"static/media/time-3.9c3f305b.svg"},95:function(e,t,a){e.exports=a.p+"static/media/user.8702dc53.svg"},96:function(e,t,a){e.exports=a.p+"static/media/bubble.3eaa3469.svg"}},[[153,1,2]]]);
//# sourceMappingURL=main.0d31bc31.chunk.js.map