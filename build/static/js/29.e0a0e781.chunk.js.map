{"version":3,"sources":["assets/images/avatar.png","components/Dashboard/Nav/Nav.tsx","custom-hooks/useOnClickOutside.ts"],"names":["module","exports","Nav","useState","toggle","setToggle","authDispatch","useContext","AuthContext","authService","AuthService","users","DataContext","data","history","useHistory","user","avatarUrl","imageUrl","require","handleLogout","logout","push","ref","useRef","cb","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","useOnClickOutside","navList","className","to","onClick","src","alt","classNames","nav__logout","nav__menu"],"mappings":"4FAAAA,EAAOC,QAAU,IAA0B,oC,0HCUpC,SAASC,IAAoB,IAAD,EACLC,oBAAS,GADJ,mBAC1BC,EAD0B,KAClBC,EADkB,KAEzBC,EAAiBC,qBAAWC,KAA5BF,aACFG,EAAc,IAAIC,IAAYJ,GAE1BK,EACNJ,qBAAWK,KADbC,KAAQF,MAEJG,EAAUC,cAEVC,EAAOL,EAAM,GACbM,EAAYD,EAAOA,EAAKE,SAAWC,EAAQ,KAG3CC,EAAe,WACnBX,EAAYY,SACZP,EAAQQ,KAAK,MAGTC,EAAMC,iBAAuB,OC1BJ,SAACD,EAC9BE,GACAC,qBAAU,WACN,IAAMC,EAAW,SAACC,GACVL,EAAIM,UAAWN,EAAIM,QAAQC,SAASF,EAAMG,SAG9CN,KAGJ,OADAO,SAASC,iBAAiB,YAAaN,GAChC,WACHK,SAASE,oBAAoB,YAAaP,MAE/C,CAACJ,EAAKE,IDcXU,CAAkBZ,GAAK,kBAAMlB,GAAU,MACvC,IAAM+B,EAAU,kBACd,oCACE,yBAAKC,UAAU,oBACb,kBAAC,IAAD,CAAMC,GAAG,KAAT,SAEF,yBAAKD,UAAU,oBACb,kBAAC,IAAD,CAAMC,GAAG,sBAAT,YAEF,yBAAKD,UAAU,oBACb,kBAAC,IAAD,CAAMC,GAAG,sBAAT,YAEF,yBAAKD,UAAU,oBACb,kBAAC,IAAD,CAAMC,GAAG,oBAAT,UAEF,yBAAKD,UAAU,oBACb,kBAAC,IAAD,CAAMC,GAAG,qBAAT,eAEF,yBAAKD,UAAU,qBACb,wBAAIE,QAASnB,GAAb,aAIN,OACE,yBAAKiB,UAAU,OACb,wBAAIA,UAAU,aAAaD,KAC3B,yBAAKb,IAAKA,EAAKc,UAAU,YAAYE,QAjCpB,kBAAYlC,GAAWD,KAkCtC,yBAAKiC,UAAU,mBAAmBG,IAAKvB,EAAWwB,IAAI,UACtD,wBACEJ,UAAWK,IAAW,CACpBC,aAAa,EACb,oBAAqBvC,KAGvB,wBAAImC,QAASnB,GAAb,WAEF,wBACEiB,UAAWK,IAAW,CACpBE,WAAW,EACX,kBAAmBxC,KAGpBgC,O","file":"static/js/29.e0a0e781.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.41c9a2b3.png\";","/* eslint-disable @typescript-eslint/camelcase */\n/* eslint-disable camelcase */\nimport React, { useState, useContext, useRef } from 'react'\nimport classNames from 'classnames'\nimport { Link, useHistory } from 'react-router-dom'\nimport { AuthContext } from '../../../contexts/authContext'\nimport { useOnClickOutside } from '../../../custom-hooks/useOnClickOutside'\nimport { DataContext } from '../../../contexts/dataContext'\nimport { AuthService } from 'services/authService'\n\nexport function Nav(): JSX.Element {\n  const [toggle, setToggle] = useState(false)\n  const { authDispatch } = useContext(AuthContext)\n  const authService = new AuthService(authDispatch)\n  const {\n    data: { users },\n  } = useContext(DataContext)\n  const history = useHistory()\n\n  const user = users[0]\n  const avatarUrl = user ? user.imageUrl : require('../../../assets/images/avatar.png')\n\n  const handleToggle = (): void => setToggle(!toggle)\n  const handleLogout = (): void => {\n    authService.logout()\n    history.push('/')\n  }\n\n  const ref = useRef<HTMLDivElement>(null)\n  useOnClickOutside(ref, () => setToggle(false))\n  const navList = (): JSX.Element => (\n    <>\n      <div className=\"nav__list__group\">\n        <Link to=\"/\">Home</Link>\n      </div>\n      <div className=\"nav__list__group\">\n        <Link to=\"/dashboard/profile\">Profile</Link>\n      </div>\n      <div className=\"nav__list__group\">\n        <Link to=\"/dashboard/gallery\">Gallery</Link>\n      </div>\n      <div className=\"nav__list__group\">\n        <Link to=\"/dashboard/posts\">Posts</Link>\n      </div>\n      <div className=\"nav__list__group\">\n        <Link to=\"/dashboard/create\">Create new</Link>\n      </div>\n      <div className=\"nav__list__logout\">\n        <li onClick={handleLogout}>Logout</li>\n      </div>\n    </>\n  )\n  return (\n    <div className=\"nav\">\n      <ul className=\"nav__list\">{navList()}</ul>\n      <div ref={ref} className=\"nav__icon\" onClick={handleToggle}>\n        <img className=\"nav__icon__image\" src={avatarUrl} alt=\"admin\" />\n        <ul\n          className={classNames({\n            nav__logout: true,\n            'nav__logout-hide': !toggle,\n          })}\n        >\n          <li onClick={handleLogout}>Logout</li>\n        </ul>\n        <ul\n          className={classNames({\n            nav__menu: true,\n            'nav__menu-hide': !toggle,\n          })}\n        >\n          {navList()}\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import { useEffect, MutableRefObject } from 'react';\n\nexport const useOnClickOutside = (ref: MutableRefObject<HTMLElement | null>,\n    cb: Function): void => {\n    useEffect(() => {\n        const listener = (event: MouseEvent) => {\n            if(!ref.current || ref.current.contains(event.target as Node)) {\n                return;\n            }\n            cb();\n        };\n        document.addEventListener('mousedown', listener);\n        return () => {\n            document.removeEventListener('mousedown', listener);\n        }\n    }, [ref, cb])\n}"],"sourceRoot":""}