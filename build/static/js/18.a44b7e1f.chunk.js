(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[18,22],{45:function(e,t,a){"use strict";a.r(t),a.d(t,"Picture",(function(){return r}));var c=a(0),n=a.n(c);function r(e){var t=e.imgUrl,a=e.publicId,c=e.handleClick,r=e.checked;return n.a.createElement("div",{className:"picture",key:a,onClick:c(a)},n.a.createElement("img",{className:"picture__image",src:t,alt:"pic"}),n.a.createElement("input",{type:"checkbox",readOnly:!0,checked:r,className:"picture__checked"}))}},50:function(e,t,a){"use strict";a.r(t),a.d(t,"Gallery",(function(){return h}));var c=a(21),n=a.n(c),r=a(29),l=a(16),i=a(1),u=a(12),p=a(0),s=a.n(p),d=a(25),o=a(45),m=a(11),b=a(26);function h(e){var t=Object(p.useContext)(m.a),a=t.data.gallery,c=t.dataDispatch,h=new b.a(c),y=a.reduce((function(e,t){return e[t.public_id]=!1,e}),[]),f=Object(p.useState)(y),g=Object(u.a)(f,2),k=g[0],_=g[1],v=function(){window.cloudinary.openUploadWidget({cloudName:"maryam47web",uploadPreset:"no2bkme1",tags:["xmas"]},(function(e,t){"success"===t.event&&c({type:"ADD_GALLERY",payload:t.info})}))},E=function(t){return function(){e.withCb&&e.cb(t),_(Object(i.a)({},k,Object(l.a)({},t,!k[t])))}},w=a.reduce((function(e,t){return k[t.public_id]&&e.push(t.public_id),e}),[]),x=function(){var e=Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.removeImage(w[0]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"gallery"},a.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(d.a,{text:"Add",handleClick:v}),w[0]&&s.a.createElement(d.a,{text:w.length>1?"Delete all":"Delete",handleClick:x})),s.a.createElement("div",{className:"gallery__contents"},a.map((function(e){return s.a.createElement(o.Picture,{checked:k[e.public_id],handleClick:E,key:e.public_id,publicId:e.public_id,imgUrl:"https://res.cloudinary.com/".concat("maryam47web","/image/upload/").concat(e.public_id,".jpg")})})))):s.a.createElement("div",{className:"gallery__empty"},"The gallery is empty! ",s.a.createElement(d.a,{text:"Add picture",handleClick:v})," "))}}}]);
//# sourceMappingURL=18.a44b7e1f.chunk.js.map