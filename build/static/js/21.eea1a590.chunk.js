(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[21],{66:function(e,a,t){"use strict";t.r(a),t.d(a,"Profile",(function(){return d}));var l=t(21),r=t.n(l),m=t(29),n=t(16),s=t(1),o=t(12),c=t(0),i=t.n(c),u=t(25),p=t(11),_=t(63),f=t.n(_),N=t(26);function d(){var e=Object(c.useContext)(p.a),a=e.data.users,t=e.dataDispatch,l=new N.a(t),_=a[0],d={username:_?_.username:"",firstName:_?_.firstName:"",lastName:_?_.lastName:"",title:_?_.title:"",bio:_?_.bio:"",imageUrl:_?_.imageUrl:""},b=Object(c.useState)(d),h=Object(o.a)(b,2),E=h[0],v=h[1],g=function(e){var a=e.target,t=a.name,l=a.value;v(Object(s.a)({},E,Object(n.a)({},t,l)))},x=E.firstName,y=E.lastName,U=E.username,w=E.title,C=E.bio,j=E.imageUrl,F=j?j.split("/"):"",k=F.length?F[F.length-1].split(".")[0]:"",O=function(){var e=Object(m.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,l.updateUser(_._id,E);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"profile"},i.a.createElement("div",{className:"profile__content"},i.a.createElement("div",{className:"profile__photo"},i.a.createElement("img",{className:"profile__img",src:j||f.a,height:"200px",alt:"avatar"}),i.a.createElement("div",{className:"profile__photo__overlay"},i.a.createElement("button",{className:"profile__photo__edit",onClick:function(){window.cloudinary.openUploadWidget({cloudName:"maryam47web",uploadPreset:"no2bkme1",tags:["profile"]},(function(e,a){"success"===a.event&&(t({type:"UPDATE_USER_IMAGE",payload:{userId:_._id,obj:{imageUrl:a.info.secure_url}}}),l.updateUser(_._id,{imageUrl:a.info.secure_url},k))}))}},"Change"))),i.a.createElement("form",{className:"form",onSubmit:O},i.a.createElement("div",{className:"form__group"},i.a.createElement("label",{className:"form__label",htmlFor:"firstName"},"First Name"),i.a.createElement("input",{className:"form__input",type:"text",name:"firstName",value:x,onChange:g,placeholder:"First name"})),i.a.createElement("div",{className:"form__group"},i.a.createElement("label",{className:"form__label",htmlFor:"lastName"},"Last Name"),i.a.createElement("input",{className:"form__input",type:"text",name:"lastName",value:y,onChange:g,placeholder:"Last Name"})),i.a.createElement("div",{className:"form__group"},i.a.createElement("label",{className:"form__label",htmlFor:"username"},"Email"),i.a.createElement("input",{className:"form__input",type:"text",name:"username",value:U,onChange:g,placeholder:"Email"})),i.a.createElement("div",{className:"form__group"},i.a.createElement("label",{className:"form__label",htmlFor:"title"},"Title"),i.a.createElement("input",{className:"form__input",type:"text",name:"title",value:w,onChange:g,placeholder:"title"})),i.a.createElement("div",{className:"form__group"},i.a.createElement("label",{className:"form__label",htmlFor:"bio"},"About"),i.a.createElement("textarea",{className:"form__textarea",rows:6,name:"bio",value:C,onChange:g,placeholder:"About"})),i.a.createElement("div",{className:"form__button"},i.a.createElement(u.a,{text:"Save"})))))}}}]);
//# sourceMappingURL=21.eea1a590.chunk.js.map