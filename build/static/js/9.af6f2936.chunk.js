(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[9,15],{124:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return u}));var a=function(e){return new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e))},r=function(e){return new Intl.DateTimeFormat("en-us",{hour:"numeric",minute:"numeric"}).format(new Date(e))},c=function(e){return e.match(/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-\\.]+)\.([a-zA-Z]{2,5})$/)},l=function(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";case"unstyled":return"RichEditor-paragraph";case"CODE":return"RichEditor-blockcode";case"STRIKETHROUGH":return"RichEditor-strikethrough";default:return""}},o=function(e){var t=JSON.parse(e),n=t.blocks.filter((function(e){return e.text.length})),a=n.filter((function(e){return"header-one"===e.type}))[0],r=n.filter((function(e){return"unstyled"===e.type}))[0],c=t.entityMap[0]?t.entityMap[0].data.src:null;return{title:a.text,p:r.text,url:c}},u=function(e){var t=JSON.parse(e).blocks,n=t.filter((function(e){return"header-one"===e.type}))[0],a=t.filter((function(e){return"unstyled"===e.type})).filter((function(e){return e.text.length>1}));return console.log(a),void 0!==n&&a.length>0}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),c=n(28),l=document.createElement("portal");function o(e){var t=e.toggleModal,n=e.children;return Object(a.useEffect)((function(){return document.body.appendChild(l),function(){document.body.removeChild(l)}}),[]),Object(c.createPortal)(r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__overlay",onClick:t}),r.a.createElement("div",{className:"modal__body"},n)),l)}},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a);function c(e){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,e.heads.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,e.children))}},53:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentRow",(function(){return s})),n.d(t,"CommentList",(function(){return f}));var a=n(21),r=n.n(a),c=n(29),l=n(0),o=n.n(l),u=n(25),i=n(11),m=n(173),d=n(26);function s(e){var t=e.item,n=t.comment,a=t.commenter,r=t.email,c=t._id,l=e.index,i=e.handleDelete;return o.a.createElement("tr",null,o.a.createElement("td",null,l+1),o.a.createElement("td",null,n),o.a.createElement("td",null,a),o.a.createElement("td",null,r),o.a.createElement("td",null,o.a.createElement(u.a,{text:"Delete",handleClick:i(c)})))}function f(e){var t=Object(l.useContext)(i.a).dataDispatch,n=new d.a(t),a=function(e){return Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.removeComment(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))};return o.a.createElement("div",{className:"comments"},o.a.createElement(m.a,{heads:["number","comment","commenter","email","action"]},e.comments.map((function(e,t){return o.a.createElement(s,{item:e,key:e._id,index:t,handleDelete:a})}))))}},64:function(e,t,n){"use strict";n.r(t),n.d(t,"PostTable",(function(){return E}));var a=n(12),r=n(0),c=n.n(r),l=n(11),o=n(25),u=n(124),i=n(165),m=n(53),d=n(173),s=n(8),f=n(26);function h(e){var t=e.item,n=t.comments,a=t.content,r=t.createdAt,l=t.updatedAt,i=t.id,m=e.index,d=e.toggleModal,f=e.handleClick,h=function(e){return c.a.createElement("td",null,new Date(e).toISOString().slice(0,10))};return c.a.createElement("tr",null,c.a.createElement("td",null,m+1),c.a.createElement("td",null,c.a.createElement("a",{href:"/blog/".concat(Object(u.b)(a).title.split(" ").join("-"))},Object(u.b)(a).title)),h(r),h(l),c.a.createElement("td",null,c.a.createElement("a",{href:"/#",onClick:function(e){return d(e,n)}},n.length)),c.a.createElement("td",null,c.a.createElement(s.b,{to:"/dashboard/edit/".concat(i)},c.a.createElement(o.a,{text:"Edit"}))),c.a.createElement("td",null,c.a.createElement(o.a,{text:"Delete",handleClick:f(i)})))}function E(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1],u=Object(r.useState)([{commenter:"",email:"",comment:"",createdAt:"",_id:"",post:""}]),s=Object(a.a)(u,2),E=s[0],p=s[1],b=Object(r.useContext)(l.a),v=b.data.blogs,y=b.dataDispatch,g=new f.a(y);if(!v.length)return c.a.createElement("div",{className:"posts"},"You do not have any post in your blog.");var k=function(e){return function(){if(!window.confirm("Are you sure you want to delete this post?"))return null;g.removePost(e)}},w=function(e,t){e.preventDefault(),p(t),o(!n)};return c.a.createElement("div",{className:"posts"},n&&c.a.createElement(i.a,{toggleModal:function(){return o(!n)}},c.a.createElement(m.CommentList,{comments:E})),c.a.createElement("div",{className:"posts-table"},c.a.createElement(d.a,{heads:["post","title","created","updated","comments","edit","delete"]},v.map((function(e,t){return c.a.createElement(h,{key:e.id,item:e,index:t,toggleModal:w,handleClick:k})})))))}}}]);
//# sourceMappingURL=9.af6f2936.chunk.js.map